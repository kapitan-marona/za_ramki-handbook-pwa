/* ===========================
   ZA RAMKI — Brand Theme (UI-tuned)
   =========================== */

/* ---------- Fonts (local) ---------- */
@font-face{
  font-family: "Manasco";
  src: url("./assets/fonts/Manasco.otf") format("opentype");
  font-style: normal;
  font-weight: 400;
  font-display: swap;
}

/* Roboto оставляем подключённым, но пока НЕ используем как основной */
@font-face{
  font-family: "RobotoCustom";
  src: url("./assets/fonts/Roboto-Regular.ttf") format("truetype");
  font-style: normal;
  font-weight: 400;
  font-display: swap;
}
@font-face{
  font-family: "RobotoCustom";
  src: url("./assets/fonts/Roboto-Medium.ttf") format("truetype");
  font-style: normal;
  font-weight: 500;
  font-display: swap;
}

/* ---------- Palette + override base tokens ---------- */
:root{
  /* tuned close to your brand */
  --brand-accent: #C03A14;     /* мягче, но близко к B43202 */
  --brand-bg: #1E1B18;         /* тёплый графит вместо “синего” */
  --brand-headings: #FFF3EA;   /* близко к FFF4EB */
  --brand-text: #EEE6DE;       /* почти белый, тёплый */
  --brand-muted: rgba(238,230,222,.72);

  /* no-blue surfaces */
  --brand-panel: rgba(30,27,24,.82);   /* для шапки/панелей */
  --brand-card: rgba(26,23,20,.88);    /* для карточек/пустых блоков */
  --brand-item: rgba(26,23,20,.72);

  /* borders */
  --brand-border: rgba(255,243,234,.12);
  --brand-border-accent: rgba(192,58,20,.38);

  /* override tokens from styles.css */
  --bg: var(--brand-bg);
  --panel: var(--brand-card);
  --card: var(--brand-item);
  --text: var(--brand-text);
  --muted: var(--brand-muted);
  --accent: var(--brand-accent);
  --border: var(--brand-border);
}

/* ---------- Typography (TEMP: no Roboto until you pick a new font) ---------- */
body{
  background: var(--bg);
  color: var(--text);
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  text-rendering: geometricPrecision;
}

/* Brand title */
.brand h1{
  font-family: "Manasco", ui-sans-serif, system-ui, -apple-system, "Segoe UI", Arial, sans-serif;
  font-weight: 400;
  letter-spacing: 2px;
  text-transform: uppercase;
  color: var(--brand-headings);
}
.brand small{ color: var(--muted); }

/* Headings */
.article-title,
.markdown h2,
.markdown h3{
  color: var(--brand-headings);
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Arial, sans-serif;
  font-weight: 600;
}

/* Sub text */
.article-sub,
.kv,
.pill{ color: var(--muted); }

/* Logo smaller */
.logo-img{
  height: 30px;
  width: auto;
  object-fit: contain;
  display:block;
}

/* ---------- Kill all blue-ish tints ---------- */

/* header background (make it warm graphite, still translucent) */
.header{
  background: rgba(30,27,24,.72) !important;
  border-bottom: 1px solid var(--border) !important;
}

/* panels */
.panel, .viewer{
  background: var(--brand-card) !important;
  border: 1px solid var(--border) !important;
}

/* tabs area (this is where your “синий” was) */
.tabs{
  background: rgba(26,23,20,.92) !important;
  border-bottom: 1px solid var(--border) !important;
}

/* search */
.search{
  background: rgba(26,23,20,.78) !important;
  border: 1px solid var(--border) !important;
}
.search input{ color: var(--text) !important; }

/* list items */
.item{
  background: var(--brand-item) !important;
  border: 1px solid var(--border) !important;
}
.item:hover{ border-color: var(--brand-border-accent) !important; }

/* empty blocks (your “Выбери статью слева...” box) */
.viewer .empty{
  background: rgba(26,23,20,.72) !important;
  border: 1px dashed var(--border) !important;
  color: var(--muted) !important;
}

/* tabs/buttons */
.tab{
  background: rgba(26,23,20,.72) !important;
  border: 1px solid var(--border) !important;
  color: var(--text) !important;
}
.tab:hover{ border-color: var(--brand-border-accent) !important; }
.tab.is-active{
  border-color: var(--brand-accent) !important;
  box-shadow: 0 8px 24px rgba(192,58,20,.15) !important;
}

/* tags/buttons */
.tag{
  border: 1px solid var(--border) !important;
  color: var(--muted) !important;
}
.tag.accent{
  border-color: var(--brand-accent) !important;
  color: var(--brand-accent) !important;
}

.btn{
  border: 1px solid var(--border) !important;
  background: rgba(26,23,20,.68) !important;
  color: var(--text) !important;
}
.btn:hover{ border-color: var(--brand-accent) !important; }
.btn .dot{ background: var(--brand-accent) !important; }

/* markdown */
.markdown a{
  color: var(--brand-headings);
  text-decoration-color: rgba(192,58,20,.55);
}
.markdown blockquote{
  border-left: 3px solid var(--brand-accent);
  background: rgba(192,58,20,.06);
  color: var(--brand-headings);
}

/* forms */
input, textarea{
  border: 1px solid var(--border) !important;
  background: rgba(26,23,20,.60) !important;
  color: var(--text) !important;
}
input:focus, textarea:focus{
  outline: none;
  border-color: var(--brand-accent) !important;
  box-shadow: 0 0 0 2px rgba(192,58,20,.15);
}


/* tabs-wrap-fix */
.tabs{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
}
.tab{
  flex:0 0 auto;
}


/* Compact buttons (BriefPro) */
.btn.btn-sm{
  font-size: 12px;
  padding: 6px 10px;
}
.btn.btn-sm .dot{
  transform: scale(0.9);
}


/* ===== BriefPro compact UX ===== */

.btn.btn-sm{
  font-size: 12px;
  padding: 6px 10px;
  line-height: 1.1;
}
.btn.btn-sm:hover{ opacity: .95; }

/* Small round icon button (for ?) */
.btn.btn-icon{
  width: 26px;
  height: 26px;
  padding: 0;
  border-radius: 999px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* BriefPro top actions */
.actions.bp-top{
  gap: 8px;
  flex-wrap: wrap;
}

/* Table layout */
.bp-tablewrap{
  overflow:auto;
  border:1px solid var(--border);
  border-radius:14px;
  background: rgba(26,23,20,.55);
}
.bp-table{
  border-collapse:separate;
  border-spacing:0;
  min-width:1200px;
  width:100%;
}
.bp-th{
  text-align:left;
  padding:10px;
  border-bottom:1px solid var(--border);
}
.bp-th.group{ color:var(--brand-headings); }
.bp-th.mid{ min-width:140px; }
.bp-th.last{ min-width:240px; }
.bp-th.sticky{
  position:sticky;
  left:0;
  z-index:3;
  background: rgba(26,23,20,.92);
}

/* Sticky first column cells */
.rr-sticky{
  position: sticky;
  left: 0;
  z-index: 2;
  background: rgba(26,23,20,.88);
  border-right: 1px solid rgba(255,255,255,.06);
}

/* Room name cell */
.rr-namebox{
  display:flex;
  flex-direction:column;
  gap:8px;
}
.rr-name{
  width:100%;
  padding:10px;
  border-radius:12px;
}
.rr-nameview{
  white-space:pre-wrap;
  font-weight:600;
  color: var(--brand-headings);
}
.rr-x{
  color: #ff5a5a;
  margin-right:6px;
}

/* Pending delete confirm */
.rr-del-confirm{
  border-color: rgba(255,90,90,.55);
  background: rgba(255,90,90,.10);
}

/* Meta block */
.bp-meta{ margin-bottom:12px; }
.bp-meta-label{ font-weight:600; margin-bottom:4px; }
.bp-meta-input{ width:100%; padding:10px; border-radius:12px; }
.bp-meta-text{ white-space:pre-wrap; }
.bp-meta-link{ color:var(--brand-headings); }

/* 3-col heights */
.bp-3cols{ display:flex; gap:12px; flex-wrap:wrap; margin-bottom:14px; }
.bp-3col{ flex:1; min-width:200px; max-width:280px; }
.bp-3col-title{ font-weight:700; margin-bottom:6px; }
.bp-3col-val{
  padding:10px;
  border-radius:12px;
  border:1px solid var(--border);
  background: rgba(26,23,20,.35);
}
.bp-3col-input{ width:100%; padding:8px 10px; border-radius:12px; }

/* MultiField spacing */
.mf textarea.mf-text{
  width:100%;
  padding:10px;
  border-radius:12px;
  margin-bottom:4px; /* приклеили */
}
.mf-actions{
  margin: 0 0 8px 0; /* меньше пустоты */
}
.mf-row{
  display:flex;
  gap:6px;
  align-items:center;
  margin-top:6px;
}
.mf-link{
  flex:1;
  padding:8px 10px;
  border-radius:12px;
}
.mf-linkrow{ margin-top:6px; }
.mf-linkview{ color:var(--brand-headings); text-decoration-color: rgba(192,58,20,.55); }
.mf-muted{ color: var(--muted); }
.mf-textview{ white-space:pre-wrap; }


/* BriefPro: editable title in 3rd column (Other) */
.bp-3col-title-edit{
  width:100%;
  padding:6px 8px;
  border-radius:10px;
  font-weight:700;
  margin-bottom:6px;
}





/* ============================= */
/* BriefPro + Scrollbars system  */
/* ============================= */

:root{
  color-scheme: dark;
}

/* Scrollbars */

::-webkit-scrollbar{
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track{
  background: var(--brand-bg);
}

::-webkit-scrollbar-thumb{
  background: var(--brand-card);
  border-radius: 999px;
  border: 2px solid var(--brand-bg);
}

::-webkit-scrollbar-thumb:hover{
  background: var(--brand-item);
}

/* MultiField link label select */

.mf-label-select{
  background: var(--brand-card);
  color: var(--brand-text);
  border: 1px solid var(--brand-border);
  border-radius: 10px;
  padding: 4px 8px;
  height: 30px;
  font-size: 12px;
}

.mf-label-select:focus,
.mf-label-select:focus-visible,
.mf-link:focus,
.mf-textitem:focus{
  outline: none;
  box-shadow: 0 0 0 2px var(--brand-border-accent);
  border-color: var(--brand-accent);
}

.mf-label-select option{
  background: var(--brand-card);
  color: var(--brand-text);
}

/* BriefPro table */

.bp-tablewrap{
  background: var(--brand-card);
  border-radius: 14px;
}

.bp-table{
  background: var(--brand-card);
}

.bp-table,
.bp-table th,
.bp-table td{
  border-color: var(--brand-border);
}

/* Sticky column */
.bp-table th.sticky,
.bp-table td.sticky{
  background: var(--brand-card);
  z-index: 5;
}

/* Header */
.bp-table thead th{
  background: var(--brand-item);
  z-index: 6;
}/* ============================= */
/* BriefPro: kill blue gradients */
/* ============================= */

.bp-tablewrap,
.bp-table,
.bp-table thead,
.bp-table tbody,
.bp-table tr,
.bp-table th,
.bp-table td{
  background-color: var(--brand-card) !important;     /* нужный тёмный */
  background-image: none !important;       /* убиваем синий/градиенты */
}

/* Sticky first column must be opaque and above */
.bp-table th.sticky,
.bp-table td.sticky{
  background-color: var(--brand-card) !important;
  background-image: none !important;
  z-index: 10 !important;
}

/* Header above sticky */
.bp-table thead th{
  z-index: 11 !important;
}

/* White strip leftovers: remove left padding/inner shadows */
.bp-tablewrap{
  padding-left: 0 !important;
  box-shadow: none !important;
}

.bp-table{
  margin-left: 0 !important;
  border-left: 0 !important;
}

/* If there is a pseudo-element creating a strip */
.bp-tablewrap::before,
.bp-tablewrap::after{
  content: none !important;
}

/* Optional: subtle separator between sticky col and rest */
.bp-table th.sticky,
.bp-table td.sticky{
  box-shadow: none !important;
}






/* ============================= */
/* BriefPro: force solid table   */
/* ============================= */

.bp-tablewrap{
  background: var(--brand-bg) !important;
  background-image: none !important;
  overflow: hidden !important; /* убирает “просветы” у скруглений/краёв */
}

/* ВАЖНО: фон у тебя задаётся классами bp-th и td, перебиваем их */
.bp-table,
.bp-table td,
.bp-th,
.bp-th.group,
.bp-th.mid,
.bp-th.last{
  background-color: var(--brand-card) !important;
  background-image: none !important;
}

/* Sticky first column: непрозрачная и поверх */
.bp-th.sticky,
.bp-table td.sticky{
  background-color: var(--brand-card) !important;
  background-image: none !important;
  z-index: 20 !important;
}

/* Header поверх sticky */
.bp-table thead .bp-th{
  z-index: 30 !important;
}




/* ============================= */
/* BriefPro: cover global gradients */
/* ============================= */

/* Viewer area becomes solid dark so page gradients don't show through */
#viewer { background: var(--brand-card) !important; }

/* If BriefPro content is wrapped into .markdown – make it solid too */
#viewer .markdown{
  background: var(--brand-bg) !important;
}

/* Table wrapper + table must be solid */
.bp-tablewrap{
  background: var(--brand-bg) !important;
  background-image: none !important;
  overflow: hidden !important;
}

.bp-table,
.bp-table td,
.bp-th,
.bp-th.group,
.bp-th.mid,
.bp-th.last{
  background-color: var(--brand-card) !important;
  background-image: none !important;
}

/* Sticky col opaque */
.bp-th.sticky,
.bp-table td.sticky{
  background-color: var(--brand-card) !important;
  background-image: none !important;
  z-index: 20 !important;
}



/* ============================= */
/* BriefPro: FINAL FIX (wins all)*/
/* ============================= */

/* 1) Вернуть прокрутку */
.bp-tablewrap{
  overflow: auto !important;
}

/* 2) Убрать “прозрачные” td из styles.css (они показывают синеву) */
.bp-table tr[data-room-row] td{
  background: rgba(26,23,20,.35) !important;
}

/* 3) Общий фон таблицы/шапки — тёплый, без синего */
.bp-tablewrap{
  background: rgba(26,23,20,.55) !important;
}
.bp-table{
  background: rgba(26,23,20,.35) !important;
}

/* шапка */
.bp-th{
  background: rgba(26,23,20,.92) !important;
  background-image: none !important;
}

/* обычные ячейки (если у тебя есть td без data-room-row) */
.bp-table td{
  background: rgba(26,23,20,.35) !important;
  background-image: none !important;
}

/* 4) Sticky first column: непрозрачная и без белых полос */
.bp-table td:first-child,
.bp-table th:first-child,
.rr-sticky,
.bp-th.sticky{
  background: rgba(26,23,20,.92) !important;
  background-image: none !important;
  z-index: 50 !important;
}

/* 5) Добить белую полоску слева (часто это псевдо-слой/тень) */
.bp-tablewrap::before,
.bp-tablewrap::after{
  display:none !important;
}
.bp-tablewrap{
  padding-left: 0 !important;
}



/* ============================= */
/* BriefPro: STOP BLUE (hard)    */
/* ============================= */

/* 0) На всякий: убиваем градиенты страницы (они и дают “синеву”) */
body{
  background: var(--bg) !important;
  background-image: none !important;
}

/* 1) Карточка viewer — тёплая, без синего */
.viewer{
  background: var(--brand-card) !important;
  background-image: none !important;
}

/* 2) ГЛАВНОЕ: перебиваем прозрачные td из styles.css (!!important) */
.bp-table tr[data-room-row] td{
  background: rgba(26,23,20,.35) !important;   /* было transparent !important */
  background-image: none !important;
}

/* 3) Шапка и таблица — тёплые */
.bp-tablewrap{
  background: rgba(26,23,20,.55) !important;
  background-image: none !important;
  overflow: auto !important;                  /* скролл должен жить */
  padding-left: 0 !important;
}

.bp-table{
  background: rgba(26,23,20,.35) !important;
  background-image: none !important;
  margin-left: 0 !important;
}

/* 4) Sticky первая колонка — непрозрачная */
.bp-table td:first-child,
.bp-table th:first-child,
.rr-sticky,
.bp-th.sticky{
  background: rgba(26,23,20,.92) !important;
  background-image: none !important;
  z-index: 50 !important;
}

/* 5) Белая полоса: чаще всего псевдоэлемент/тень */
.bp-tablewrap::before,
.bp-tablewrap::after{
  display:none !important;
}





/* =========================================================
   BRAND CLEANUP — remove blue tint everywhere
   ========================================================= */

/* 1. Scrollbar */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}
::-webkit-scrollbar-track {
  background: var(--brand-bg) !important;
}
::-webkit-scrollbar-thumb {
  background: var(--brand-card) !important;
  border-radius: 999px;
  border: 2px solid var(--brand-bg) !important;
}
::-webkit-scrollbar-thumb:hover {
  background: var(--brand-accent) !important;
}

/* 2. Viewer / panel unified background */
.viewer,
.panel,
.main,
.bp-tablewrap {
  background: var(--brand-bg) !important;
}

/* 3. Table surface */
.bp-table,
.bp-table td,
.bp-th,
.bp-th.group,
.bp-th.mid,
.bp-th.last {
  background-color: var(--brand-card) !important;
}

/* 4. Sticky column without blue shadow */
.bp-table td:first-child,
.bp-table th:first-child,
.rr-sticky,
.bp-th.sticky {
  background: var(--brand-item) !important;
  box-shadow: none !important;
}

/* 5. Select (link label dropdown) */
select {
  background: var(--brand-item) !important;
  color: var(--brand-headings) !important;
  border: 1px solid var(--brand-border) !important;
  border-radius: 10px;
  padding: 6px 10px;
  appearance: none;
  -webkit-appearance: none;
}
select:focus {
  outline: none !important;
  border-color: var(--brand-accent) !important;
  box-shadow: 0 0 0 1px var(--brand-accent) !important;
}


/* ===== Meta section cleanup ===== */
.bp-meta,
.bp-meta-label {
  background: var(--brand-card) !important;
  color: var(--brand-headings) !important;
}

/* ===== Firefox scrollbar ===== */
* {
  scrollbar-width: thin;
  scrollbar-color: var(--brand-card) var(--brand-bg) !important;
}


/* ===== Remove blue under section headers ===== */
.markdown h2,
.bp-meta-label,
.bp-meta h2 {
  background: var(--brand-bg) !important;
  color: var(--brand-headings) !important;
  border-bottom: 2px solid var(--brand-border) !important;
}

/* ===== Restore horizontal scroll for table ===== */
.bp-tablewrap {
  overflow-x: auto !important;
}

.bp-table {
  min-width: max-content;
}






/* ============================= */
/* BriefPro layering fix         */
/* ============================= */

/* Scrollbar — делаем заметнее */
::-webkit-scrollbar-thumb{
  background: var(--brand-item);
  border: 2px solid var(--brand-bg);
}

::-webkit-scrollbar-thumb:hover{
  background: var(--brand-accent);
}

/* Таблица как отдельный слой */
.bp-tablewrap{
  position: relative;
  z-index: 1;
}

/* Sticky first column — полностью непрозрачная */
.bp-table th.sticky,
.bp-table td.sticky{
  background: var(--brand-card) !important;
  backdrop-filter: none !important;
  z-index: 20;
}

/* Header таблицы выше sticky */
.bp-table thead th{
  background: var(--brand-item) !important;
  backdrop-filter: blur(6px);
  z-index: 30 !important;
}

/* Базовый слой таблицы */
.bp-table{
  position: relative;
  z-index: 2;
}


